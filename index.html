<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urso da Hamburgada</title>
    <style>
        body {
            margin: 0;
            background: #00008b;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            overflow: hidden;
        }
        canvas {
            display: block;
            margin: 0 auto;
            background: #00008b;
        }
        h1 {
            margin-top: 10px;
            font-size: 24px;
        }
        h2 {
            font-size: 18px;
            margin-top: -5px;
        }
    </style>
</head>
<body>
    <h1>Coma todos os mini hambúrgueres e revele a mensagem</h1>
    <h2>Movimente o Tio Julho (L3) para comer todos os hambúrgueres</h2>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Personagem
        const urso = { x: 100, y: 100, size: 80, speed: 5 };
        let arrastando = false;

        // Hambúrgueres
        const hamburgueres = [];
        const totalHamburgueres = 15;

        // Carregar imagens
        const ursoImg = new Image();
        ursoImg.src = "Lucasimg2.png"; // substitua pela sua imagem

        const hamburguerImg = new Image();
        hamburguerImg.src = "hamburguerimg.png";

        const vagalumeImg = new Image();
        vagalumeImg.src = "vagalumeimg.png";

        // Gerar hambúrgueres
        function gerarHamburgueres() {
            for (let i = 0; i < totalHamburgueres; i++) {
                const x = Math.random() * (canvas.width - 30);
                const y = 100 + Math.random() * (canvas.height - 130);
                hamburgueres.push({ x, y, size: 30 });
            }
        }

        gerarHamburgueres();

        let vitoria = false;

        // Movimento teclado
        const teclas = {};
        window.addEventListener("keydown", e => teclas[e.key] = true);
        window.addEventListener("keyup", e => teclas[e.key] = false);

        // Toque/arrastar para celular
        canvas.addEventListener("mousedown", e => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            if (
                mouseX > urso.x && mouseX < urso.x + urso.size &&
                mouseY > urso.y && mouseY < urso.y + urso.size
            ) {
                arrastando = true;
            }
        });

        canvas.addEventListener("mouseup", () => arrastando = false);
        canvas.addEventListener("mousemove", e => {
            if (arrastando) {
                const rect = canvas.getBoundingClientRect();
                urso.x = e.clientX - rect.left - urso.size / 2;
                urso.y = e.clientY - rect.top - urso.size / 2;
            }
        });

        // Atualizar jogo
        function atualizar() {
            if (!vitoria) {
                if (teclas["ArrowLeft"] && urso.x > 0) urso.x -= urso.speed;
                if (teclas["ArrowRight"] && urso.x < canvas.width - urso.size) urso.x += urso.speed;
                if (teclas["ArrowUp"] && urso.y > 75) urso.y -= urso.speed;
                if (teclas["ArrowDown"] && urso.y < canvas.height - urso.size) urso.y += urso.speed;

                // Colisão com hambúrgueres
                for (let i = hamburgueres.length - 1; i >= 0; i--) {
                    const h = hamburgueres[i];
                    if (
                        urso.x < h.x + h.size &&
                        urso.x + urso.size > h.x &&
                        urso.y < h.y + h.size &&
                        urso.y + urso.size > h.y
                    ) {
                        hamburgueres.splice(i, 1);
                    }
                }

                if (hamburgueres.length === 0) vitoria = true;
            }
        }

        // Desenhar jogo
        function desenhar() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Hambúrgueres
            hamburgueres.forEach(h => ctx.drawImage(hamburguerImg, h.x, h.y, h.size, h.size));

            // Urso
            ctx.drawImage(ursoImg, urso.x, urso.y, urso.size, urso.size);

            // Vitória
            if (vitoria) {
                ctx.fillStyle = "yellow";
                ctx.font = "40px Arial";
                ctx.fillText("Deixa eu ser vagalume?", canvas.width / 2 - 220, canvas.height / 2);
                ctx.drawImage(vagalumeImg, canvas.width / 2 - 280, canvas.height / 2 - 50, 70, 70);
            }
        }

        // Loop do jogo
        function loop() {
            atualizar();
            desenhar();
            requestAnimationFrame(loop);
        }

        loop();
    </script>
</body>
</html>
